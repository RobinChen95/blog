{"remainingRequest":"/myblog/node_modules/babel-loader/lib/index.js??ref--3-1!/myblog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/myblog/node_modules/vue-loader/lib/index.js??vue-loader-options!/myblog/docs/.vuepress/theme/global-components/MyHeader.vue?vue&type=script&lang=js&","dependencies":[{"path":"/myblog/docs/.vuepress/theme/global-components/MyHeader.vue","mtime":1551096639185},{"path":"/myblog/node_modules/cache-loader/dist/cjs.js","mtime":1551096639353},{"path":"/myblog/node_modules/babel-loader/lib/index.js","mtime":1551096639337},{"path":"/myblog/node_modules/cache-loader/dist/cjs.js","mtime":1551096639353},{"path":"/myblog/node_modules/vue-loader/lib/index.js","mtime":1551096639245}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.array.filter\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"Header\",\n  props: {\n    showIcon: {\n      type: Boolean,\n      default: false\n    },\n    restaurants: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  data: function data() {\n    return {\n      headerLeft: 260,\n      searchVal: \"\",\n      hasShadow: false,\n      queryStrlen: 1,\n      hasResults: true\n    };\n  },\n  computed: {\n    placeholder: function placeholder() {\n      return this.$themeConfig.placeholder || \"\";\n    },\n    searchReply: function searchReply() {\n      return this.$themeConfig.searchReply || \"什么都没搜到，试一下其它搜索词~\";\n    },\n    iconName: function iconName() {\n      if (typeof window === \"undefined\") return \"icon-caidan\";\n\n      if (document.body.clientWidth <= 1200) {\n        return this.showIcon ? \"icon-guanbi\" : \"icon-caidan\";\n      }\n\n      return this.showIcon ? \"icon-caidan\" : \"icon-guanbi\";\n    }\n  },\n  methods: {\n    clickMenu: function clickMenu() {\n      this.$emit(\"clickMenu\");\n      if (typeof window === \"undefined\") return;\n\n      if (document.body.clientWidth <= 1200) {\n        return;\n      }\n\n      if (this.headerLeft == 65) {\n        this.headerLeft = 260;\n      } else {\n        this.headerLeft = 65;\n      }\n    },\n    querySearch: function querySearch(queryString, cb) {\n      this.hasResults = true;\n      this.queryStrlen = queryString.length;\n      var restaurants = this.restaurants;\n      var results = queryString ? restaurants.filter(this.createFilter(queryString)) : restaurants;\n\n      if (results.length === 0) {\n        this.hasResults = false;\n        results.push({\n          title: this.searchReply,\n          has: false\n        });\n      }\n\n      cb(results);\n    },\n    createFilter: function createFilter(queryString) {\n      return function (restaurant) {\n        var searchIndex = restaurant.strippedContent.toLowerCase().indexOf(queryString.toLowerCase());\n\n        if (searchIndex > -1) {\n          restaurant.searchIndex = searchIndex;\n          return true;\n        } else {\n          return false;\n        }\n\n        return searchIndex > -1;\n      };\n    },\n    handleSelect: function handleSelect(item) {\n      if (item.title === this.searchReply) return;\n      this.$router.push(item.path);\n    },\n    getScrollTop: function getScrollTop() {\n      var scrollPos;\n      if (typeof window === \"undefined\") return;\n\n      if (window.pageYOffset) {\n        scrollPos = window.pageYOffset;\n      } else if (document.compatMode && document.compatMode != \"BackCompat\") {\n        scrollPos = document.documentElement.scrollTop;\n      } else if (document.body) {\n        scrollPos = document.body.scrollTop;\n      }\n\n      return scrollPos;\n    },\n    bindScrl: function bindScrl() {\n      var _this = this;\n\n      var topScroll = _this.getScrollTop();\n\n      if (topScroll > 190) {\n        this.hasShadow = true;\n      } else {\n        this.hasShadow = false;\n      }\n\n      window.onscroll = function () {\n        var topScroll = _this.getScrollTop();\n\n        if (topScroll > 190) {\n          _this.hasShadow = true;\n        } else {\n          _this.hasShadow = false;\n        }\n      };\n    }\n  },\n  mounted: function mounted() {\n    this.bindScrl();\n  },\n  activated: function activated() {\n    this.bindScrl();\n  }\n};",{"version":3,"sources":["MyHeader.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <el-header\n    id=\"topHeader\"\n    :style=\"{paddingLeft: headerLeft + 'px'}\"\n    class=\"top-header\"\n    :class=\"{headerShadow: hasShadow}\"\n  >\n    <el-row\n      type=\"flex\"\n      align=\"middle\"\n      class=\"header-warp\"\n    >\n      <el-col\n        :span=\"12\"\n        :xs=\"{span: 7}\"\n      >\n        <el-row\n          type=\"flex\"\n          align=\"middle\"\n        >\n          <el-col :span=\"2\">\n            <el-button\n              @click=\"clickMenu\"\n              type=\"primary\"\n              circle\n              key=\"menusBtn\"\n            >\n              <i\n                class=\"iconfont\"\n                :class=\"[iconName]\"\n              ></i>\n            </el-button>\n          </el-col>\n        </el-row>\n      </el-col>\n      <el-col\n        :span=\"20\"\n        :xs=\"{span: 24}\"\n      >\n        <div class=\"grid-content bg-purple-light\">\n          <el-row\n            type=\"flex\"\n            align=\"middle\"\n            justify=\"end\"\n          >\n            <el-col\n              :span=\"13\"\n              :xs=\"{span: 24}\"\n              :sm=\"{span: 21}\"\n              :md=\"{span: 17}\"\n              :lg=\"{span: 13}\"\n            >\n              <el-autocomplete\n                v-model=\"searchVal\"\n                @select=\"handleSelect\"\n                class=\"search-input\"\n                popper-class=\"search-popper\"\n                :fetch-suggestions=\"querySearch\"\n                :placeholder=\"placeholder\"\n                size=\"small\"\n                :trigger-on-focus=\"false\"\n                clearable\n              >\n                <i\n                  slot=\"suffix\"\n                  class=\"el-input__icon el-icon-search search-ico\"\n                ></i>\n                <template slot-scope=\"{ item }\">\n                  <div class=\"name\">{{item.title}}</div>\n                  <span\n                    class=\"addr addr-active\"\n                    v-if=\"hasResults\"\n                  >{{ item.strippedContent.slice(item.searchIndex, item.searchIndex + queryStrlen) }}</span>\n                  <span\n                    class=\"addr addr-last\"\n                    v-if=\"hasResults\"\n                  >{{ item.strippedContent.slice(item.searchIndex + queryStrlen) }}</span>\n                </template>\n              </el-autocomplete>\n            </el-col>\n          </el-row>\n        </div>\n      </el-col>\n    </el-row>\n  </el-header>\n</template>\n<script>\nexport default {\n  name: \"Header\",\n  props: {\n    showIcon: {\n      type: Boolean,\n      default: false\n    },\n    restaurants: {\n      type: Array,\n      default: () => []\n    }\n  },\n  data () {\n    return {\n      headerLeft: 260,\n      searchVal: \"\",\n      hasShadow: false,\n      queryStrlen: 1,\n      hasResults: true\n    };\n  },\n  computed: {\n    placeholder () {\n      return this.$themeConfig.placeholder || \"\";\n    },\n    searchReply () {\n      return this.$themeConfig.searchReply || \"什么都没搜到，试一下其它搜索词~\";\n    },\n    iconName () {\n      if (typeof window === \"undefined\") return \"icon-caidan\";\n      if (document.body.clientWidth <= 1200) {\n        return this.showIcon ? \"icon-guanbi\" : \"icon-caidan\";\n      }\n      return this.showIcon ? \"icon-caidan\" : \"icon-guanbi\";\n    }\n  },\n  methods: {\n    clickMenu () {\n      this.$emit(\"clickMenu\");\n      if (typeof window === \"undefined\") return;\n      if (document.body.clientWidth <= 1200) {\n        return;\n      }\n      if (this.headerLeft == 65) {\n        this.headerLeft = 260;\n      } else {\n        this.headerLeft = 65;\n      }\n    },\n    querySearch (queryString, cb) {\n      this.hasResults = true;\n      this.queryStrlen = queryString.length;\n      var restaurants = this.restaurants;\n      var results = queryString\n        ? restaurants.filter(this.createFilter(queryString))\n        : restaurants;\n      if (results.length === 0) {\n        this.hasResults = false;\n        results.push({\n          title: this.searchReply,\n          has: false\n        });\n      }\n      cb(results);\n    },\n    createFilter (queryString) {\n      return restaurant => {\n        let searchIndex = restaurant.strippedContent\n          .toLowerCase()\n          .indexOf(queryString.toLowerCase());\n        if (searchIndex > -1) {\n          restaurant.searchIndex = searchIndex;\n          return true;\n        } else {\n          return false;\n        }\n        return searchIndex > -1;\n      };\n    },\n    handleSelect (item) {\n      if (item.title === this.searchReply) return;\n      this.$router.push(item.path);\n    },\n    getScrollTop () {\n      var scrollPos;\n      if (typeof window === \"undefined\") return;\n      if (window.pageYOffset) {\n        scrollPos = window.pageYOffset;\n      } else if (document.compatMode && document.compatMode != \"BackCompat\") {\n        scrollPos = document.documentElement.scrollTop;\n      } else if (document.body) {\n        scrollPos = document.body.scrollTop;\n      }\n      return scrollPos;\n    },\n    bindScrl () {\n      const _this = this;\n      let topScroll = _this.getScrollTop();\n      if (topScroll > 190) {\n        this.hasShadow = true;\n      } else {\n        this.hasShadow = false;\n      }\n      window.onscroll = function () {\n        let topScroll = _this.getScrollTop();\n        if (topScroll > 190) {\n          _this.hasShadow = true;\n        } else {\n          _this.hasShadow = false;\n        }\n      };\n    }\n  },\n  mounted () {\n    this.bindScrl();\n  },\n  activated () {\n    this.bindScrl();\n  }\n};\n</script>\n<style>\n.header-warp {\n  width: 100%;\n  height: 100%;\n}\n@media (max-width: 1200px) {\n  #topHeader {\n    padding-left: 0 !important;\n  }\n}\n.headerShadow {\n  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14),\n    0 1px 10px 0 rgba(0, 0, 0, 0.12);\n}\n.el-autocomplete-suggestion li:hover {\n  background-color: #d5dfee;\n}\n.el-autocomplete-suggestion li.highlighted {\n  background-color: #d5dfee;\n}\n</style>\n\n<style lang=\"stylus\" scoped>\n.top-header {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  color: #fff;\n  height: 56px;\n  background: #3f51b5;\n  padding-left: 260px;\n  transition: padding-left 0.2s ease-in-out, background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.15s linear;\n  z-index: 30;\n  height: 56px !important;\n  padding-top: 3px;\n}\n\n.iconfont {\n  font-size: 32px;\n}\n\n.icon-caidan, .icon-guanbi {\n  font-size: 24px;\n}\n\n.search-ico {\n  font-size: 24px;\n  padding-right: 11px;\n}\n\n.search-input >>> input {\n  border-radius: 2rem;\n}\n\n.search-input {\n  width: 100%;\n}\n\n.search-popper {\n  .el-autocomplete-suggestion__wrap {\n    margin-bottom: 0px !important;\n\n    li:not(lastChild) {\n      border-bottom: 1px solid;\n      margin-bottom: 5px;\n    }\n  }\n\n  .name {\n    border-radius: 5px;\n    padding: 0 11px;\n    background-color: #3f51b5;\n    white-space: nowrap;\n    overflow: hidden;\n    color: white;\n    text-overflow: ellipsis;\n  }\n\n  .addr {\n    border-radius: 5px;\n    padding: 0 11px;\n    margin: 0;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n\n  .addr-active {\n    background-color: #6973a8;\n    border-radius: 3px;\n    color: #fff;\n    padding: 0 3px 0 2px;\n    margin-left: 11px;\n  }\n\n  .addr-last {\n    padding-left: 0;\n  }\n}\n</style>"],"sourceRoot":"docs/.vuepress/theme/global-components"}]}