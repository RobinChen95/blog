{"remainingRequest":"/test/vuepress-theme-indigo-material/node_modules/vue-loader/lib/index.js??vue-loader-options!/test/vuepress-theme-indigo-material/docs/.vuepress/theme/global-components/MyHeader.vue?vue&type=script&lang=js&","dependencies":[{"path":"/test/vuepress-theme-indigo-material/docs/.vuepress/theme/global-components/MyHeader.vue","mtime":1551091253702},{"path":"/test/vuepress-theme-indigo-material/node_modules/cache-loader/dist/cjs.js","mtime":1550914864881},{"path":"/test/vuepress-theme-indigo-material/node_modules/babel-loader/lib/index.js","mtime":1550914864626},{"path":"/test/vuepress-theme-indigo-material/node_modules/cache-loader/dist/cjs.js","mtime":1550914864881},{"path":"/test/vuepress-theme-indigo-material/node_modules/vue-loader/lib/index.js","mtime":1550914865524}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: \"Header\",\n  props: {\n    showIcon: {\n      type: Boolean,\n      default: false\n    },\n    restaurants: {\n      type: Array,\n      default: () => []\n    }\n  },\n  data () {\n    return {\n      headerLeft: 260,\n      searchVal: \"\",\n      hasShadow: false,\n      queryStrlen: 1,\n      hasResults: true\n    };\n  },\n  computed: {\n    placeholder () {\n      return this.$themeConfig.placeholder || \"\";\n    },\n    searchReply () {\n      return this.$themeConfig.searchReply || \"什么都没搜到，试一下其它搜索词~\";\n    },\n    iconName () {\n      if (typeof window === \"undefined\") return \"icon-caidan\";\n      if (document.body.clientWidth <= 1200) {\n        return this.showIcon ? \"icon-guanbi\" : \"icon-caidan\";\n      }\n      return this.showIcon ? \"icon-caidan\" : \"icon-guanbi\";\n    }\n  },\n  methods: {\n    clickMenu () {\n      this.$emit(\"clickMenu\");\n      if (typeof window === \"undefined\") return;\n      if (document.body.clientWidth <= 1200) {\n        return;\n      }\n      if (this.headerLeft == 65) {\n        this.headerLeft = 260;\n      } else {\n        this.headerLeft = 65;\n      }\n    },\n    querySearch (queryString, cb) {\n      this.hasResults = true;\n      this.queryStrlen = queryString.length;\n      var restaurants = this.restaurants;\n      var results = queryString\n        ? restaurants.filter(this.createFilter(queryString))\n        : restaurants;\n      if (results.length === 0) {\n        this.hasResults = false;\n        results.push({\n          title: this.searchReply,\n          has: false\n        });\n      }\n      cb(results);\n    },\n    createFilter (queryString) {\n      return restaurant => {\n        let searchIndex = restaurant.strippedContent\n          .toLowerCase()\n          .indexOf(queryString.toLowerCase());\n        if (searchIndex > -1) {\n          restaurant.searchIndex = searchIndex;\n          return true;\n        } else {\n          return false;\n        }\n        return searchIndex > -1;\n      };\n    },\n    handleSelect (item) {\n      if (item.title === this.searchReply) return;\n      this.$router.push(item.path);\n    },\n    getScrollTop () {\n      var scrollPos;\n      if (typeof window === \"undefined\") return;\n      if (window.pageYOffset) {\n        scrollPos = window.pageYOffset;\n      } else if (document.compatMode && document.compatMode != \"BackCompat\") {\n        scrollPos = document.documentElement.scrollTop;\n      } else if (document.body) {\n        scrollPos = document.body.scrollTop;\n      }\n      return scrollPos;\n    },\n    bindScrl () {\n      const _this = this;\n      let topScroll = _this.getScrollTop();\n      if (topScroll > 190) {\n        this.hasShadow = true;\n      } else {\n        this.hasShadow = false;\n      }\n      window.onscroll = function () {\n        let topScroll = _this.getScrollTop();\n        if (topScroll > 190) {\n          _this.hasShadow = true;\n        } else {\n          _this.hasShadow = false;\n        }\n      };\n    }\n  },\n  mounted () {\n    this.bindScrl();\n  },\n  activated () {\n    this.bindScrl();\n  }\n};\n",null]}